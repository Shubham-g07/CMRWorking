<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
<meta charset="UTF-8" />

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous" />

<!-- Updated Font Awesome to a more recent version for broader icon support -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<!-- Google Font: Inter -->
<link
	href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
	rel="stylesheet">

<!-- Toastr CSS -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
	rel="stylesheet" />

<!-- Custom CSS for the sidebar and main layout -->
<link rel="stylesheet" th:href="@{/CSS/style.css}" />


<link rel="stylesheet" th:href="@{CSS/profile-style.css}" />

<script src="https://cdn.tailwindcss.com"></script>

<title th:text="${title}"></title>
</head>
<body class="flex flex-col min-h-screen">


	<!-- Navbar  -->

	<nav
		class="navbar fixed-top navbar-light navbar-expand-lg bg-body-tertiary fw-bold"
		style="background-color: #e3f2fd;">

		<div
			class="container-fluid d-flex justify-content-between align-items-center">
			<!-- Menu Toggle Button - Placed correctly in the navbar -->
			<button id="menu-toggle"
				class="navbar-toggler px-2 rounded-full rounded-md hover:bg-gray-200 transition-colors duration-200"
				type="button" aria-label="Toggle sidebar">
				<i class="fas fa-bars text-xl text-gray-700"></i>
			</button>

			<a class="navbar-brand ps-4" th:href="@{/}">Smart Contact Manager</a>

			<div
				class="d-flex align-items-center flex-grow-1 justify-content-end position-relative"
				style="gap: 1rem;">

				<!-- Search input wrapper -->
				<div id="searchWrapper" class="search-wrapper">
					<input type="text" class="form-control" placeholder="Search..." />
				</div>

				<!-- Search toggle button -->
				<button id="searchToggleBtn" class="btn btn-outline-success"
					type="button">Search</button>
			</div>
		</div>

	</nav>


	<!-- Main Content Area (including sidebar and page content) -->
	<main id="main-layout-container"
		class="main-content-area flex flex-grow relative pt-13">
		<!-- Sidebar -->
		<nav id="sidebar"
			class="sidebar fixed top-0 left-0 h-full text-white shadow-lg z-50 rounded-r-lg pt-16"
			style="background-image: linear-gradient(to bottom, #e3f2fd, #42a5f5);">
			<div class="flex flex-col items-center h-full">

				<div id="sidebar-logo"
					class="profile cursor-pointer bg-white bg-opacity-20 rounded-full shadow-inner hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center overflow-hidden">

					<img id="sidebar-profile-img"
						th:src="${user.uImgName != null ? '/Images/' + user.uImgName : 'userImage.jpeg'}"
						alt="User Profile" class="w-full h-full object-cover rounded-full" />

				</div>

				<div class="text-center">
					<span th:text="${user.uName}" class="text-xl font-semibold mb-3"></span>
				</div>



				<div class="divider"></div>

				<ul class="space-y-1 w-full">
					<li><a th:href="@{/user/index}"
						class="flex items-center p-3 rounded-md hover:bg-white hover:bg-opacity-20 transition-colors duration-200">
							<i class="fas fa-home"></i> <span>Dashboard</span>
					</a></li>
					<li><a th:href="@{/user/showContacts/0}"
						class="flex items-center p-3 rounded-md hover:bg-white hover:bg-opacity-20 transition-colors duration-200">
							<i class="fas fa-users"></i> <span>View Contacts</span>
					</a></li>
					<li><a th:href="@{/user/addContact}"
						class="flex items-center p-3 rounded-md hover:bg-white hover:bg-opacity-20 transition-colors duration-200">
							<i class="fas fa-plus-circle"></i> <span>Add Contact</span>
					</a></li>
					<li><a href="#"
						class="flex items-center p-3 rounded-md hover:bg-white hover:bg-opacity-20 transition-colors duration-200">
							<i class="fas fa-cog "></i> <span>Settings</span>
					</a></li>
					<li><a th:href="@{/logout}"
						class="flex items-center p-3 rounded-md hover:bg-white hover:bg-opacity-20 transition-colors duration-200">
							<i class="fas fa-sign-out-alt "></i> <span>Logout</span>
					</a></li>
				</ul>
			</div>
		</nav>

		<!-- main content  -->

		<section class="main-content p-4 sm:p-6 lg:p-8">
			<div
				class="w-full max-w-4xl bg-white rounded-xl shadow-lg overflow-hidden md:flex mx-auto">
				<!-- Profile Header Section -->
				<div
					class="md:w-1/3 p-6 bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex flex-col items-center justify-center text-center rounded-t-xl md:rounded-l-xl md:rounded-tr-none">
					<div class="relative mb-4">
						<img id="profile-img"
							th:src="${user.uImgName != null ? '/Images/' + user.uImgName : ''}"
							alt="Profile"
							class="w-32 h-32 rounded-full border-4 border-white shadow-md object-cover" />
						<span id="status-indicator"
							th:classappend="${user.uEnable ? '' : 'hidden'}"
							class="absolute bottom-0 right-0 block h-6 w-6 rounded-full ring-2 ring-white bg-green-500 transform translate-x-1 translate-y-1"></span>
					</div>
					<h2 id="user-name" class="text-3xl font-bold mb-1"
						th:text="${user.uName}"></h2>
					<p id="user-role" class="text-blue-100 text-lg"
						th:text="${user.uRole}"></p>
					<button id="edit-profile-btn"
						class="mt-6 px-6 py-2 bg-white text-blue-600 font-semibold rounded-full shadow-md hover:bg-blue-50 transition duration-300 ease-in-out transform hover:scale-105">
						Edit Profile</button>
				</div>

				<!-- Profile Details Section -->
				<div
					class="md:w-2/3 p-6 sm:p-8 lg:p-10 flex flex-col justify-center">
					<h3
						class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-blue-400 pb-2">User
						Details</h3>

					<div class="grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-6 mb-6">
						<div class="flex flex-col">
							<label class="text-sm font-medium text-gray-500 mb-1">Email
								Address</label>
							<p id="user-email" class="text-gray-900 font-semibold text-lg"
								th:text="${user.uEmail}"></p>
						</div>
						<div class="flex flex-col">
							<label class="text-sm font-medium text-gray-500 mb-1">Date
								of Birth</label>
							<p id="user-dob" class="text-gray-900 font-semibold text-lg"
								th:text="${user.uDOB}"></p>
						</div>
						<div class="flex flex-col col-span-1 md:col-span-2">
							<label class="text-sm font-medium text-gray-500 mb-1">Address</label>
							<p id="user-address" class="text-gray-900 font-semibold text-lg"
								th:text="${user.uAddress}"></p>
						</div>
					</div>

					<div class="mb-6">
						<label class="text-sm font-medium text-gray-500 mb-1 block">About
							Me</label>
						<p id="user-about"
							class="text-gray-700 leading-relaxed bg-gray-50 p-4 rounded-lg shadow-inner text-base"
							th:text="${user.uAbout}"></p>
					</div>

					<div
						class="flex items-center justify-between text-gray-600 text-sm">
						<p>
							User ID: <span id="user-id" class="font-mono text-gray-800"
								th:text="${user.uId}"></span>
						</p>
						<p>
							Status: <span id="user-status" class="font-semibold"
								th:classappend="${user.uEnable ? 'text-green-600' : 'text-red-600'}"
								th:text="${user.uEnable ? 'Active' : 'Inactive'}"></span>
						</p>
					</div>
				</div>
			</div>


		</section>

	</main>


	<footer class="bg-light text-center text-dark py-3 ">
		<div class="mb-2 ">
			<div class="mb-2">
				<a href="#"><i class="fa-brands fa-facebook me-3"></i></a> <a
					href="#"><i class="fab fa-twitter text-dark me-3"></i></a> <a
					href="#"><i class="fab fa-linkedin text-dark me-3"></i></a> <a
					href="#"><i class="fab fa-github text-dark me-3"></i></a>
			</div>
		</div>


		<div class="container">&copy; 2025 Smart Contact Manager. All
			rights reserved.</div>

	</footer>


	<!-- jQuery (Required for Toastr) -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<!-- Toastr JS -->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

	<script src="https://challenges.cloudflare.com/turnstile/v0/api.js"
		async defer></script>

	<!-- Custom JS for sidebar functionality -->
	<script type="text/javascript" th:src="@{/JS/script.js}"></script>


	<script type="text/javascript" th:src="@{/JS/contactForm.js}"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>



</body>
</html>